<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Guide for Apollo Sensor Unit &mdash; Apollo Auto alpha documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/cyber/doxy-docs/source/main_stylesheet.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/tabs.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Apollo传感器单元（ASU）安装指南" href="Apollo_Sensor_Unit_Installation_Guide_cn.html" />
    <link rel="prev" title="Apollo 5.5 Software Architecture" href="../Apollo_5.5_Software_Architecture.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: skyblue" >
            <a href="../../../index.html" class="icon icon-home"> Apollo Auto
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">Apollo Auto 自述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Apollo Auto 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cyber/doxy-docs/source/index.html">cyber 文档</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: skyblue" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Apollo Auto</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Guide for Apollo Sensor Unit</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/specs/Apollo_Sensor_Unit/Apollo_Sensor_Unit_Installation_Guide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="guide-for-apollo-sensor-unit">
<h1>Guide for Apollo Sensor Unit<a class="headerlink" href="#guide-for-apollo-sensor-unit" title="Permalink to this headline"></a></h1>
<p>Apollo Sensor Unit (ASU) is designed to work with Industrial PC (IPC) to implement sensor fusion, vehicle control and network access in Apollo’s autonomous driving platform.</p>
<p>The ASU system provides sensor interfaces to collect data from various sensors, including cameras, Lidars, Radars, and Ultrasonic Sensors. The system also utilizes pulse per second (PPS) and GPRMC signals from GNSS receiver to implement data collection synchronization for the camera and LiDAR sensors.</p>
<p>The communication between the ASU and the IPC is through PCI Express Interface. ASU collects sensor data and passes to IPC via PCI Express Interface, and the IPC uses the ASU to send out Vehicle Control commands in the Controller Area Network (CAN) protocol.</p>
<p>In addition, Lidar connectivity via Ethernet, WWAN gateway via 4G LTE module, and WiFi access point via WiFi module will be enabled in the future releases.</p>
<p><img alt="ASU_pic" src="../../../_images/ASU_pic.jpg" /></p>
<section id="system-connectors">
<h2>System Connectors<a class="headerlink" href="#system-connectors" title="Permalink to this headline"></a></h2>
<section id="front-panel-connectors">
<h3>Front Panel Connectors<a class="headerlink" href="#front-panel-connectors" title="Permalink to this headline"></a></h3>
<ol class="simple">
<li><p>External GPS PPS / GPRMC Input Port</p></li>
<li><p>FAKRA Camera Data Input Port (5 ports)</p></li>
<li><p>100 Base-TX/1000 Base-T Ethernet Port (2 Ports)</p></li>
<li><p>KL-15 (AKA Car Ignition) Signal Input Port</p></li>
</ol>
</section>
<section id="rear-panel-connectors">
<h3>Rear Panel Connectors<a class="headerlink" href="#rear-panel-connectors" title="Permalink to this headline"></a></h3>
<ol class="simple">
<li><p>General purpose UART port(reserved)</p></li>
<li><p>External PCI Express Port (Support X4 or X8) For connections to IPC, please use EXTN port.</p></li>
<li><p>GPS PPS/GPRMC Output Rectangular Port (3 Ports) for LiDAR</p></li>
<li><p>Power and PPS/GPRMC Cylindrical Output Port for Stereo Camera/LiDAR</p></li>
<li><p>CAN Bus (4 Ports)</p></li>
<li><p>Main Power Input Connector</p></li>
</ol>
</section>
</section>
<section id="purchase-channels">
<h2>Purchase Channels<a class="headerlink" href="#purchase-channels" title="Permalink to this headline"></a></h2>
<p>The Apollo Sensor Unit is currently only provided to our Partners and certain developers. Questions regarding the availability and access to ASU should be directed to  <a class="reference external" href="mailto:apollo-hw&#37;&#52;&#48;baidu&#46;com">apollo-hw<span>&#64;</span>baidu<span>&#46;</span>com</a></p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h2>
<ol>
<li><p>Power Cable</p>
<p>The main power is from vehicle battery, 9V ~ 36V, 120W.</p>
<p><img alt="conn-DTF13-2P" src="../../../_images/conn-DTF13-2P.jpeg" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MFR</p></th>
<th class="head"><p>MPN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TE Connectivity</p></td>
<td><p>DTF13-2P</p></td>
<td><p>DT RECP ASM</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN #</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>12V</p></td>
<td><p>PWR</p></td>
<td><p>12V (9V~36V, 120W)</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>GROUND</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>FPD-Link III cameras.</p>
<p>There are 5 FAKRA connectors for FPD Link III cameras in ASU Front Panel labeled with 1~5, respectively, from right to left. The ASU can support up to 5 cameras by enabling Camera 1 ~ 5 whose deserializers (TI, DS90UB914ATRHSTQ1) convert FPD Link III signals into parallel data signals.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Camera #</p></th>
<th class="head"><p>I2C Address</p></th>
<th class="head"><p>Deserializer</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>0x60</p></td>
<td><p>DS90UB914ATRHSTQ1</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>0x61</p></td>
<td><p>DS90UB914ATRHSTQ1</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>0x62</p></td>
<td><p>DS90UB914ATRHSTQ1</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>0x63</p></td>
<td><p>DS90UB914ATRHSTQ1</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>0x64</p></td>
<td><p>DS90UB914ATRHSTQ1</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>GPS synchronization input channel</p>
<p>GPS synchronization input channel is using 1565749-1 from TE Connectivity as the connector. The connector information and the pinout are shown in the tables below.</p>
<p><img alt="conn_1565749-1" src="../../../_images/conn_1565749-1.png" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>MFR</p></th>
<th class="head"><p>MPN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>TE Connectivity</p></td>
<td><p>1565749-1</p></td>
<td><p>Automotive Connectors 025 CAP ASSY, 4 Pin</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN #</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GPRMC</p></td>
<td><p>INPUT</p></td>
<td><p>GPRMC TX</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>NC</p></td>
<td><p>NC</p></td>
<td><p>NO CIRCUIT</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>GROUND (the ground for PPS and GPRMC should be shorted on ground)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>PPS</p></td>
<td><p>INPUT</p></td>
<td><p>Pulse per Second from GPS transceiver, 3.3V CMOS Signal</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>GPS synchronization output channels</p>
<p>ASU forwards the duplicated GPS PPS/GPRMC from external GPS to the customized 8 Pin connector. This connector provides 3 sets of PPS/GPRMC output for sensors that need to be synchronized, such as LiDARs, etc.</p>
<p><img alt="1376350-2" src="../../../_images/1376350-2.jpeg" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MFR</p></th>
<th class="head"><p>MPN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TE Connectivity</p></td>
<td><p>1376350-2</p></td>
<td><p>Automotive Connectors 025 I/O CAP HSG ASSY, 8 Pin</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN #</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GPRMC0</p></td>
<td><p>OUTPUT</p></td>
<td><p>Channel 0, GPRMC OUTPUT, RS-232 Signal</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>PPS0</p></td>
<td><p>OUTPUT</p></td>
<td><p>Pulse per Second from GPS transceiver, 3.3V CMOS Signal</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GPRMC1</p></td>
<td><p>OUTPUT</p></td>
<td><p>Channel 1, GPRMC OUTPUT, RS-232 Signal</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>PPS1</p></td>
<td><p>OUTPUT</p></td>
<td><p>Pulse per Second from GPS transceiver, 3.3V CMOS Signal</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>GPRMC2</p></td>
<td><p>OUTPUT</p></td>
<td><p>Channel 2, GPRMC OUTPUT, RS-232 Signal</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>GROUND</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>GROUND</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>PPS2</p></td>
<td><p>OUTPUT</p></td>
<td><p>Pulse per Second from GPS transceiver, 3.3V CMOS Signal</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>CAN interface</p>
<p>The ASU provides 4 CAN Bus ports, the datapath is :</p>
<p><img alt="CAN_datapath" src="../../../_images/CAN_path.png" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MFR</p></th>
<th class="head"><p>MPN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TE Connectivity</p></td>
<td><p>1318772-2</p></td>
<td><p>Automotive Connectors 025 I/O CAP HSG ASSY, 12 Pin</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN #</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>CANH-0</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 0, CANH</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>CANL-0</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 0, CANL</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>CANH-1</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 1, CANH</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>CANL-1</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 1, CANL</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>CANH-2</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 2, CANH</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>CANL-2</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 2, CANL</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>CANH-3</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 3, CANH</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>CANL-3</p></td>
<td><p>INOUT</p></td>
<td><p>Channel 3, CANL</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>GPS PPS / GPRMC Output Rectangular Port</p>
<p>The Connector provides 8 ports for 3 LiDARs</p>
<p><img alt="" src="../../../_images/ASU_Port3.png" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MFR</p></th>
<th class="head"><p>MPN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Digi-Key</p></td>
<td><p>A121343-ND</p></td>
<td><p>025 I/O PLUG HSG ASSY 8P</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN #</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GPRMC</p></td>
<td><p>OUT</p></td>
<td><p>GPRMC (ASU) -&gt; Pin4 GPS_RXD_CNT (LiDAR 1)</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>PPS</p></td>
<td><p>OUT</p></td>
<td><p>PPS (ASU) -&gt; Pin1 GPS_PULSE_CNT (LiDAR 1)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GPRMC</p></td>
<td><p>OUT</p></td>
<td><p>GPRMC (ASU) -&gt; Pin4 GPS_RXD_CNT (LiDAR 2)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>PPS</p></td>
<td><p>OUT</p></td>
<td><p>PPS (ASU) -&gt; Pin1 GPS_PULSE_CNT (LiDAR 2)</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>GPRMC</p></td>
<td><p>OUT</p></td>
<td><p>GPRMC (ASU) -&gt; Pin4 GPS_RXD_CNT (LiDAR 3)</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground (ASU) -&gt; Pin3 GND (LiDAR 1,3)</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground (ASU) -&gt; Pin3 GND (LiDAR 2)</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>PPS</p></td>
<td><p>OUT</p></td>
<td><p>PPS (ASU) -&gt; Pin1 GPS_PULSE_CNT (LiDAR 3)</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>PPS/GPRMC Cylindrical Output Port for Stereo Camera/ LiDAR</p>
<p>The Connector provides 8 ports but we currently use only 3</p>
<p><img alt="" src="../../../_images/ASU_Port4.png" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MFR</p></th>
<th class="head"><p>MPN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Digi-Key</p></td>
<td><p>APC1735-ND</p></td>
<td><p>CONN RCPT FMALE 8POS SOLDER CUP</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN #</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>6</p></td>
<td><p>PPS</p></td>
<td><p>OUT</p></td>
<td><p>PPS (ASU) -&gt; Pin1 GPS_PULSE_CNT (LiDAR)</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>GPRMC</p></td>
<td><p>OUT</p></td>
<td><p>GPRMC (ASU) -&gt; Pin4 GPS_RXD_CNT (LiDAR)</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>GND</p></td>
<td><p>PWR</p></td>
<td><p>Ground (ASU) -&gt; Pin3 GND (LiDAR)</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</section>
<section id="disclaimer">
<h2>Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline"></a></h2>
<p>This device is <code class="docutils literal notranslate"><span class="pre">Apollo</span> <span class="pre">Platform</span> <span class="pre">Supported</span></code></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Apollo_5.5_Software_Architecture.html" class="btn btn-neutral float-left" title="Apollo 5.5 Software Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Apollo_Sensor_Unit_Installation_Guide_cn.html" class="btn btn-neutral float-right" title="Apollo传感器单元（ASU）安装指南" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, xinetzone.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>