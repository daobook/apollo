<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic Model - Control-in-loop Simulation &mdash; Apollo Auto alpha 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/cyber/doxy-docs/source/main_stylesheet.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/tabs.js"></script>
        <script src="../../_static/translations.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Linters and Formatters used in Apollo 6.0" href="linters_and_formatters.html" />
    <link rel="prev" title="DreamView用法介绍" href="dreamview_usage_table_cn.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: skyblue" >
            <a href="../../index.html" class="icon icon-home"> Apollo Auto
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Apollo Auto 自述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Apollo Auto 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cyber/doxy-docs/source/index.html">cyber 文档</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: skyblue" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apollo Auto</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Dynamic Model - Control-in-loop Simulation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/specs/dynamic_model.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="dynamic-model-control-in-loop-simulation">
<h1>Dynamic Model - Control-in-loop Simulation<a class="headerlink" href="#dynamic-model-control-in-loop-simulation" title="永久链接至标题"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="永久链接至标题"></a></h2>
<p>Simulation is a vital part of autonomous driving especially in Apollo where most of the testing happens via our simulation platform. In order to have a more accurate approach to our testing environment, Apollo 5.0 introduces Dynamic model which is used to achieve Control-in-loop Simulation to represent the ego car’s actual dynamic characteristics. It is possible to gauge the how the ego car would actually perform while driving in autonomous mode, but virtually using the Control-in-loop simulation making it secure and efficient. It can also accelerate your development cycle as you can maximize your testing and enhance your algorithms even before entering the vehicle.</p>
<p>The architecture diagram for how Dynamic model works is included below:</p>
<p><img alt="" src="../../_images/architecture.png" />
The Control module receives input via planning and the vehicle and uses it effectively to generate the output path which is then fed into the Dynamic model.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="永久链接至标题"></a></h2>
<p>The simulation platform - <a class="reference external" href="http://apollo.auto/platform/simulation.html">Dreamland</a> can be used to test various control parameters, three parameters are shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Note</span><span class="p">:</span>
<span class="n">The</span> <span class="n">green</span> <span class="n">lines</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">graph</span> <span class="n">below</span> <span class="n">are</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">planning</span> <span class="n">trajectories</span> <span class="k">for</span> <span class="n">those</span> <span class="n">scenarios</span><span class="p">,</span> <span class="ow">and</span> <span class="n">they</span> <span class="n">blue</span> <span class="n">lines</span> <span class="n">are</span> <span class="n">the</span> <span class="n">computed</span> <span class="n">results</span> <span class="kn">from</span> <span class="nn">Dynamic</span> <span class="n">Model</span> <span class="n">combined</span> <span class="k">with</span> <span class="n">output</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">control</span> <span class="n">module</span><span class="o">.</span>
</pre></div>
</div>
<ol class="simple">
<li><p><strong>Longitudinal Control</strong>
A pedestrian walk across the road and the ego car needs to stop by applying the brake</p></li>
</ol>
<p><img alt="" src="../../_images/Longitudinal.png" /></p>
<ol class="simple">
<li><p><strong>Lateral Control</strong>
The ego car has to make a wide-angle U-turn in this scenario. As seen in the image below, the steering turn is at 64%. You can also monitor the performance of the dynamic model on the right against the actual planned trajectory.</p></li>
<li><p><strong>Backward Behavior</strong>
The ego car has to park itself in a designated spot. This scenario is complex as it requires a mixture of forward and backward (reverse) driving and requires a high level of accuracy from the control module. As you can see in the image below, the steering turn required is at <code class="docutils literal notranslate"><span class="pre">-92%</span></code>. Additional details on this example can be seen in the planning module’s Park scenario.</p></li>
</ol>
<p><img alt="" src="../../_images/Backward.png" /></p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="永久链接至标题"></a></h2>
<p>The algorithm behind this learning based control-in-loop simulation has been published at IROS 2019, please cite us at:</p>
<p>Xu, Jiaxuan, Qi Luo, Kecheng Xu, Xiangquan Xiao, Siyang Yu, Jiangtao Hu, Jinghao Miao, and Jingao Wang. “An Automated Learning-Based Procedure for Large-scale Vehicle Dynamics Modeling on Baidu Apollo Platform.” In 2019 IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS), pp. 5049-5056. IEEE, 2019.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dreamview_usage_table_cn.html" class="btn btn-neutral float-left" title="DreamView用法介绍" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="linters_and_formatters.html" class="btn btn-neutral float-right" title="Linters and Formatters used in Apollo 6.0" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, xinetzone.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>